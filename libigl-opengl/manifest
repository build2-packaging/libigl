: 1
name: libigl-opengl
version: 2.5.0-a.1
project: libigl
type: lib,binless
language: c++
summary: libigl's OpenGL Module
license: MPL-2.0
license: GPL-3.0-or-later

description-file: README.md
url: https://libigl.github.io/
doc-url: https://libigl.github.io/
src-url: https://github.com/libigl/libigl
email: alecjacobson@gmail.com, daniele.panozzo@gmail.com

package-description-file: PACKAGE-README.md
package-url: https://github.com/build2-packaging/libigl/
package-email: packaging@build2.org

depends: * build2 >= 0.16.0
depends: * bpkg >= 0.16.0

depends:
\
libigl-core == $
{
  prefer
  {
    # If precompilation of this dependency has not been configured by a consumer,
    # let its value coincide with ours.
    #
    if ($config.origin(config.libigl_core.precompiled) == 'default')
      config.libigl_core.precompiled = $config.libigl_opengl.precompiled
  }

  # When using precompilation, both libraries need to be precompiled.
  # If the precompiled mode is defaulted for this package,
  # the dependency will update its value in the 'reflect' clause.
  #
  accept (($config.origin(config.libigl_opengl.precompiled) == 'default') \
          || ($config.libigl_core.precompiled == $config.libigl_opengl.precompiled))

  reflect
  {
    # If precompilation of this package has not been configured by a consumer,
    # let the dependency itself set its value.
    #
    if ($config.origin(config.libigl_opengl.precompiled) == 'default')
      config.libigl_opengl.precompiled = $config.libigl_core.precompiled
  }
}
\

depends: libigl-glad == $
